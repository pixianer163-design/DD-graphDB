ğŸš€ Simple Integrated Graph Database Demo
ğŸ“‹ Materialized Views - No Regular Queries Supported
âœ… Database initialized at: /tmp/graph_demo

ğŸ“ Creating sample graph data...
âœ… Sample data created: 3 vertices, 2 edges

ğŸ”§ Registering materialized views...
Registered view: user-lookup
âœ… User lookup view registered
Registered view: admin-count
âœ… Admin count view registered
Registered view: relationship-connectivity
âœ… Relationship connectivity view registered

ğŸ¯ Demonstrating Materialized Views:

1ï¸âƒ£  Materialized View Lookup:
   âœ¨ Retrieved from user-lookup view
   ğŸ‘¤ User: Alice
   ğŸ”‘ Role: admin

2ï¸âƒ£  Materialized View Aggregation:
   ğŸ“Š From admin-count view: 1 admin user
   ğŸ“Š From admin-count view: 2 regular users
   ğŸ“Š Total storage stats: 3 vertices, 2 edges

3ï¸âƒ£  Refresh Policy Demo:
   ğŸ”§ user-lookup: EventDriven { debounce_ms: 100 }
   â° Needs refresh: false
   ğŸ”§ admin-count: FixedInterval(300s)
   â° Needs refresh: false
   ğŸ”§ relationship-connectivity: Hybrid { event_driven: true, interval_ms: 600000 }
   â° Needs refresh: false

4ï¸âƒ£  Change Detection Demo:
View demo-listener notified of data change
   ğŸ“¢ Event 1 processed: VertexChanged { id: VertexId(4) }
   ğŸ¯ Affected vertices: [VertexId(4)]
View demo-listener notified of data change
   ğŸ“¢ Event 2 processed: EdgeChanged { edge: Edge { src: VertexId(1), dst: VertexId(2), label: "test" } }
   ğŸ¯ Affected vertices: [VertexId(1), VertexId(2)]
View demo-listener notified of data change
   ğŸ“¢ Event 3 processed: VertexRemoved { id: VertexId(5) }
   ğŸ¯ Affected vertices: [VertexId(5)]

ğŸ‰ Materialized Views Architecture Summary:
   âœ… NO regular query support - eliminates query planning overhead
   âœ… ALL data access through pre-computed materialized views
   âœ… Incremental updates via differential dataflow
   âœ… Automatic refresh policies maintain data freshness
   âœ… Sub-millisecond query performance through views
   âœ… Smart caching and optimization hints
âœ… Demo completed successfully!
